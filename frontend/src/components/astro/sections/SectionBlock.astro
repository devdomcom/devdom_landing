---
const {
  variant = "light", // "light" | "muted" | "dark"
  class: className = "",
} = Astro.props;

const variants = {
  light: "bg-surface-card text-ink-primary border border-border-subtle shadow-brand-01",
  muted: "bg-surface-muted text-ink-primary border border-border-subtle shadow-brand-01",
  dark: "bg-surface-strong text-ink-on-strong border border-border-contrast shadow-brand-03",
};

// Typography components can inherit color from the container; use "inherit" tone
const tone = "inherit";
---

<section
  data-variant={variant}
  class={`section-block rounded-3xl px-6 py-8 ${variants[variant] ?? variants.light} ${className}`}
>
  <slot name="header" tone={tone} />
  <slot tone={tone} />
</section>

<style>
  .section-block[data-variant="light"] {
    color: var(--text-primary);
    background: var(--surface-card);
    border-color: var(--border-subtle);
  }

  .section-block[data-variant="muted"] {
    color: var(--text-primary);
    background: var(--surface-muted);
    border-color: var(--border-subtle);
  }

  .section-block[data-variant="dark"] {
    color: var(--text-on-strong);
    background: var(--surface-strong);
    border-color: var(--border-contrast);
  }

  .section-block * {
    color: inherit;
  }
</style>
