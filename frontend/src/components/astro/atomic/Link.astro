---
const { href, prefixIcon, suffixIcon, mode = 'standard', class: className = '', ...rest } = Astro.props;

const isExternal = href && href.startsWith('http');
const linkClass = `inline-flex items-center gap-2 ${mode === 'underline' ? 'underline' : 'no-underline'} ${className}`.trim();
---

<a
  href={href}
  class={linkClass}
  rel={isExternal ? 'noopener noreferrer' : undefined}
  target={isExternal ? '_blank' : undefined}
  {...rest}
>
  {prefixIcon && <span set:html={prefixIcon}></span>}
  <slot />
  {suffixIcon && <span set:html={suffixIcon}></span>}
</a>