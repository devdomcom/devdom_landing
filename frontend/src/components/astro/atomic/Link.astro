---
const { href, prefixIcon, suffixIcon, size = 'medium', disabled = false, class: className = '', ...rest } = Astro.props;

const isExternal = href && href.startsWith('http');

const sizeStyles = {
  xsmall: '--font-body-xs-size',
  small: '--font-body-sm-size',
  medium: '--font-body-md-size'
};

const fontSizeVar = sizeStyles[size];

const baseClass = 'inline-flex items-center gap-2 font-normal no-underline transition-colors';
const defaultClass = disabled ? 'text-action-link-disabled cursor-not-allowed pointer-events-none' : 'text-action-link-default hover:text-action-link-hover hover:underline hover:font-semibold';
const linkClass = `${baseClass} ${defaultClass} ${className}`.trim();
---

<a
  href={href}
  class={linkClass}
  style={`font-family: var(--font-family-body); font-size: var(${fontSizeVar});`}
  rel={isExternal ? 'noopener noreferrer' : undefined}
  target={isExternal ? '_blank' : undefined}
  aria-disabled={disabled ? 'true' : undefined}
  {...rest}
>
  {prefixIcon && <span set:html={prefixIcon}></span>}
  <slot />
  {suffixIcon && <span set:html={suffixIcon}></span>}
</a>
